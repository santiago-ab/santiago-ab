(this.webpackJsonpcomedoreyss=this.webpackJsonpcomedoreyss||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/logo.febd2457.png"},35:function(e,a,t){e.exports=t(65)},40:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(31),s=t.n(o),l=(t(40),t(7)),i=t(8),c=t(10),m=t(9),u=t(11),d=t(32),h=t(13),p=t(17),b=t(4),g=t.n(b),f=t(1),E=t.n(f),v=t(15),y=t.n(v),N=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",usuario:"",correo:"",password:""},t.handleSubmit=function(e){if(e.preventDefault(),-1!==t.state.correo.indexOf("@"))if("eyss.io"===t.state.correo.split("@")[1])if(""!==t.state.nombre&&""!==t.state.usuario&&""!==t.state.correo&&""!==t.state.password)if(-1===t.state.usuario.indexOf(" ")){var a={nombre:t.state.nombre,usuario:t.state.usuario,correo:t.state.correo,password:t.state.password};g.a.post("/signup",a).then((function(e){e.data.ok?(E.a.success("Registro exitoso!"),setTimeout((function(){window.location="/login"}),2e3)):E.a.warning(e.data.error)}))}else E.a.warning("El usuario no puede tener espacios");else E.a.warning("No pueden haber campos vacios");else E.a.warning("Correo no v\xe1lido, solo puede ser @eyss.io");else E.a.warning("Correo no v\xe1lido")},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid fondo"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto reg-card"},r.a.createElement("div",{style:{maxHeight:"100%"}},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("img",{className:"mx-auto",alt:"logo",src:y.a,style:{height:"75px"}})),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("span",{className:"mx-auto text-center w-75",style:{fontSize:"0.7rem"}},"Recuerda marcar tu dedo en el control de acceso y anotarte en la lista del break al llegar para almozar en el horario de tu preferencia.")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row my-3"},r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"text",name:"nombre",placeholder:"Nombre y Apellido"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"text",name:"usuario",placeholder:"Usuario"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"text",name:"correo",placeholder:"Correo electronico"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"password",name:"password",placeholder:"Contrase\xf1a"})),r.a.createElement("div",{className:"row my-2"},r.a.createElement("button",{className:"col-4 btn btn-md mx-auto mr-2",type:"submit",style:{borderRadius:"7px",fontSize:"0.7rem",borderColor:"#20C178",color:"#20C178"}},"Crear Cuenta")))))))}}]),a}(n.Component),w=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={usuario:"",password:""},t.handleLogin=function(e){if(e.preventDefault(),""!==t.state.usuario&&""!==t.state.password){var a={usuario:t.state.usuario,password:t.state.password};g.a.post("/login",a).then((function(e){e.data.ok?(E.a.success("Sesion iniciada!"),setTimeout((function(){window.location="/dashboard"}),2e3)):E.a.warning(e.data.error)}))}else E.a.warning("No pueden haber campos vacios")},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleRegister=function(){window.location="/register"},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid fondo"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto login-card"},r.a.createElement("div",{style:{maxHeight:"100%"}},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("img",{className:"mx-auto",alt:"logo",src:y.a,style:{height:"75px"}})),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("span",{className:"mx-auto text-center w-75",style:{fontSize:"0.7rem"}},"Recuerda marcar tu dedo en el control de acceso y anotarte en la lista del break al llegar para almozar en el horario de tu preferencia.")),r.a.createElement("form",{onSubmit:this.handleLogin,id:"formulario"},r.a.createElement("div",{className:"row my-3"},r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"text",name:"usuario",placeholder:"Usuario"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 login-input form-control",type:"password",name:"password",placeholder:"Contrase\xf1a"}))),r.a.createElement("div",{className:"row my-2"},r.a.createElement("button",{onClick:this.handleRegister,className:"col-4 btn btn-sm ml-auto mr-2",style:{borderRadius:"7px",fontSize:"0.7rem",borderColor:"#20C178",color:"#20C178"}},"Crear Cuenta"),r.a.createElement("button",{form:"formulario",className:"col-4 btn btn-sm mr-auto ml-2",type:"submit",style:{borderRadius:"7px",fontSize:"0.7rem",backgroundColor:"#20C178",color:"#fff"}},"Ingresar")),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("a",{href:"/#",className:"mx-auto",style:{fontSize:"0.7rem",color:"#20C178"}},"\xbfOlvidaste la contrase\xf1a?"))))))}}]),a}(n.Component),S=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={correo:""},t.handleChange=function(e){t.setState({correo:e.target.value})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light position-absolute w-100"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mx-2"},r.a.createElement("span",{className:"nav-link",style:{cursor:"pointer"}},"Descargar Reporte")),r.a.createElement("li",{className:"nav-item mx-2"},r.a.createElement("span",{className:"nav-link",style:{cursor:"pointer"},onClick:function(){e.props.eliminar()}},"Eliminar Reserva")),r.a.createElement("li",{className:"nav-item dropdown mx-2"},r.a.createElement("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"}},"Agregar Espacio"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){e.props.addEspacio("12")}},"12:00pm"),r.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){e.props.addEspacio("1230")}},"12:30pm"),r.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){e.props.addEspacio("1")}},"1:00pm"),r.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){e.props.addEspacio("145")}},"1:45pm"),r.a.createElement("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){e.props.addEspacio("2")}},"2:00pm")))),r.a.createElement("div",{className:"form-inline my-2 my-lg-0 mr-auto"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",id:"correo",placeholder:"Agregar nuevo correo",onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:function(){e.props.addCorreo(e.state.correo)}},"Agregar"))))}}]),a}(n.Component),C=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={fecha:"",dia:"",mes:"",anio:"",diaString:"",mesString:"",horario:"",estoy:!1,usuario:"",admin:!1,eliminar:!1},t.eliminar=function(){var e=t.state.horario,a=e["reserva"+t.state.selected[0]].map((function(e){return e.posicion===t.state.selected[1]&&(e.usuario=""),e}));e["reserva"+t.state.selected[0]]=a,t.setState({horario:e})},t.handleSelect=function(e,a){if(!t.state.estoy){t.state.selected&&t.eliminar(),t.setState({selected:[e,a]});var n=t.state.horario,r=n["reserva"+e].map((function(e){return e.posicion===a&&(e.usuario=t.state.usuario),e}));n["reserva"+e]=r,t.setState({horario:n})}},t.handleSave=function(){var e={posicion:t.state.selected,fecha:t.state.fecha};g.a.post("/app/reservar",e).then((function(e){e.data.ok?(E.a.success("Anotado!"),t.setState({horario:e.data.horario,estoy:!0})):(E.a.warning(e.data.error),t.setState({horario:e.data.horario,estoy:!1}))}))},t.handleAddCorreo=function(e){var a={correo:e};g.a.post("/app/agregarCorreo",a).then((function(e){e.data.ok?E.a.success("Correo agregado!"):E.a.warning(e.data.error)}))},t.handleAddEspacio=function(e){var a={espacio:e};g.a.post("/app/nuevoEspacio",a).then((function(e){e.data.ok?(E.a.success("Agregado!"),t.setState({horario:e.data.horario})):E.a.warning(e.data.error)}))},t.handleEliminar2=function(e,a){var n={hora:e,posicion:a};g.a.post("/app/eliminarReserva",n).then((function(e){e.data.ok?(E.a.success(e.data.borrado+" ha sido eliminado!"),e.data.borrado===t.state.usuario?t.setState({horario:e.data.horario,eliminar:!1,estoy:!1}):t.setState({horario:e.data.horario,eliminar:!1}),t.setState({horario:e.data.horario,eliminar:!1})):E.a.warning(e.data.error)}))},t.handleEliminar=function(){t.setState({eliminar:!0})},t.handleLogout=function(){g.a.get("/logout").then((function(e){window.location="/login"}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a="";g.a.get("/app/date").then((function(t){if(t.data.ok){var n="";switch((a=new Date(t.data.date)).getDay()){case 0:n="Domingo";break;case 1:n="Lunes";break;case 2:n="Martes";break;case 3:n="Mi\xe9rcoles";break;case 4:n="Jueves";break;case 5:n="Viernes";break;case 6:n="S\xe1bado"}switch(a.getMonth()){case 0:n="Enero";break;case 1:n="Febrero";break;case 2:n="Marzo";break;case 3:n="Abril";break;case 4:n="Mayo";break;case 5:n="Junio";break;case 6:n="Julio";break;case 7:n="Agosto";break;case 8:n="Septiembre";break;case 9:n="Octubre";break;case 10:n="Noviembre";break;case 11:n="Diciembre"}e.setState({fecha:a.getDate()+"-"+a.getMonth()+"1-"+a.getFullYear(),dia:a.getDate(),mes:a.getMonth()+1,anio:a.getFullYear(),diaString:n,mesString:"",horario:t.data.horario,last:t.data.horario.last,usuario:t.data.usuario,estoy:t.data.estoy,admin:t.data.admin})}else E.a.warning(t.data.error)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.admin?r.a.createElement(S,{addCorreo:this.handleAddCorreo,addEspacio:this.handleAddEspacio,eliminar:this.handleEliminar}):null,r.a.createElement("div",{className:"container-fluid fondo d-flex"},r.a.createElement("div",{className:"mx-auto dashboard-card"},r.a.createElement("div",{className:"text-right position-absolute"}),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex",style:{height:"30%"}},r.a.createElement("button",{onClick:function(){e.handleLogout()},className:"btn btn-danger btn-sm ml-auto",style:{maxHeight:"35px",fontSize:"0.7rem"}},"Cerrar sesion")),r.a.createElement("div",{className:"col-12 d-flex",style:{height:"70%"}},r.a.createElement("img",{className:"mx-auto",alt:"logo",src:y.a,style:{height:"60%",marginTop:"3%"}}))),this.state.fecha?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{height:"10%"}},r.a.createElement("p",{className:"m-auto",style:{margin:"1% 0%",fontSize:"1.2rem"}},this.state.diaString," ",this.state.dia," de ",this.state.mesString," de ",this.state.anio)),r.a.createElement("div",{className:"row mx-auto",style:{width:"90%",height:"50%"}},r.a.createElement("div",{className:"col-1"},r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex px-0"},r.a.createElement("p",{className:"m-0 my-auto",style:{fontSize:"0.9rem"}},"12:00 pm"))),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex px-0"},r.a.createElement("p",{className:"m-0 my-auto",style:{fontSize:"0.9rem"}},"12:30 pm"))),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex px-0"},r.a.createElement("p",{className:"m-0 my-auto",style:{fontSize:"0.9rem"}},"01:00 pm"))),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex px-0"},r.a.createElement("p",{className:"m-0 my-auto",style:{fontSize:"0.9rem"}},"01:45 pm"))),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 d-flex px-0"},r.a.createElement("p",{className:"m-0 my-auto",style:{fontSize:"0.9rem"}},"02:00 pm")))),r.a.createElement("div",{className:"col-11"},this.state.horario?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{height:"20%"}},this.state.horario.reserva12.map((function(a,t){return r.a.createElement("div",{key:t,className:"col-2 px-0"},a.disponible?e.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):r.a.createElement("button",{onClick:function(){e.handleSelect("12",t)},className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):e.state.eliminar?r.a.createElement("button",{className:"btn eliminar m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"},onClick:function(){e.handleEliminar2("12",t)}},"@",a.usuario):r.a.createElement("button",{disabled:!0,className:"btn ocupado m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},"@",a.usuario))}))),r.a.createElement("div",{className:"row",style:{height:"20%"}},this.state.horario.reserva1230.map((function(a,t){return r.a.createElement("div",{key:t,className:"col-2 px-0"},a.disponible?e.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):r.a.createElement("button",{onClick:function(){e.handleSelect("1230",t)},className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):e.state.eliminar?r.a.createElement("button",{className:"btn eliminar m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"},onClick:function(){e.handleEliminar2("1230",t)}},"@",a.usuario):r.a.createElement("button",{disabled:!0,className:"btn ocupado m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},"@",a.usuario))}))),r.a.createElement("div",{className:"row",style:{height:"20%"}},this.state.horario.reserva1.map((function(a,t){return r.a.createElement("div",{key:t,className:"col-2 px-0"},a.disponible?e.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):r.a.createElement("button",{onClick:function(){e.handleSelect("1",t)},className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):e.state.eliminar?r.a.createElement("button",{className:"btn eliminar m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"},onClick:function(){e.handleEliminar2("1",t)}},"@",a.usuario):r.a.createElement("button",{disabled:!0,className:"btn ocupado m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},"@",a.usuario))}))),r.a.createElement("div",{className:"row",style:{height:"20%"}},this.state.horario.reserva145.map((function(a,t){return r.a.createElement("div",{key:t,className:"col-2 px-0"},a.disponible?e.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):r.a.createElement("button",{onClick:function(){e.handleSelect("145",t)},className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):e.state.eliminar?r.a.createElement("button",{className:"btn eliminar m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"},onClick:function(){e.handleEliminar2("145",t)}},"@",a.usuario):r.a.createElement("button",{disabled:!0,className:"btn ocupado m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},"@",a.usuario))}))),r.a.createElement("div",{className:"row",style:{height:"20%"}},this.state.horario.reserva2.map((function(a,t){return r.a.createElement("div",{key:t,className:"col-2 px-0"},a.disponible?e.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):r.a.createElement("button",{onClick:function(){e.handleSelect("2",t)},className:"btn libre m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},""!==a.usuario?"@"+a.usuario:null):e.state.eliminar?r.a.createElement("button",{className:"btn eliminar m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"},onClick:function(){e.handleEliminar2("2",t)}},"@",a.usuario):r.a.createElement("button",{disabled:!0,className:"btn ocupado m-auto",style:{width:"90%",height:"85%",fontSize:"0.9rem"}},"@",a.usuario))})))):null)),r.a.createElement("div",{className:"row",style:{height:"20%"}},r.a.createElement("div",{className:"col-12 superCenter"},this.state.horario.last.length?r.a.createElement("p",{className:"my-auto",style:{fontSize:"0.9rem"}},r.a.createElement("span",{style:{fontSize:"1.2rem"}},"\xa1Felicidades! "),r.a.createElement("span",{style:{fontSize:"1.4rem"}},"@",this.state.horario.last[this.state.horario.last.length-1]),", has ganado el deber de dejar la cocina en orden"):null),r.a.createElement("div",{className:"col-12 superCenter"},this.state.estoy?r.a.createElement("button",{disabled:!0,className:"btn btn-lg mb-auto reservar-btn"},"Reservar"):r.a.createElement("button",{onClick:function(){e.handleSave()},className:"btn btn-lg mb-auto reservar-btn"},"Reservar")))):r.a.createElement("div",{className:"loader",style:{marginTop:"20%"}}))))}}]),a}(n.Component),x=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0,auth:!1},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/logged").then((function(a){a.data.valid?e.setState({loading:!1,auth:!0}):e.setState({loading:!1,auth:!1})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement("div",{className:"col-2 text-center mx-auto my-5"},r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement(d.a,null,r.a.createElement(h.c,null,this.state.auth?null:r.a.createElement(h.a,{exact:!0,path:"/register",component:N}),this.state.auth?null:r.a.createElement(h.a,{exact:!0,path:"/login",component:w}),this.state.auth?r.a.createElement(h.a,{exact:!0,path:"/dashboard",component:C}):null,this.state.auth?r.a.createElement(h.a,{exact:!0,component:C}):null,this.state.auth?null:r.a.createElement(h.a,{exact:!0,component:w}),r.a.createElement(h.a,{exact:!0,component:w}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement((function(){return r.a.createElement(x,null)}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.3c3ea08f.chunk.js.map